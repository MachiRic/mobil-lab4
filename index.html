<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />

	<title>Messaging</title>

	<style>
		@import 'page.css';
	</style>
</head>

<body>
	<script src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.21.7.js"></script>


	<!-- Instantiate PubNub -->

	<script type="text/javascript">

		var pubnubDemo = new PubNub({

			publishKey: 'pub-c-59697c06-f283-4238-8e6e-80683e33d185',

			subscribeKey: 'sub-c-ef28c7fe-6cba-11e9-a1d6-2a8c316da507'

		});

	</script>
	<script>
		// Publish a simple message to the “demo_tutorial” channel pubnub:

		pubnubDemo.publish({ message: { "color": "blue" }, channel: 'demo_tutorial' });
	</script>

	<script>
		pubnubDemo.addListener({

			message: function (message) {

				console.log(message)

			}

		})

		pubnubDemo.subscribe({

			channels: ['demo_tutorial']

		});
	</script>
	<script>
			// Get event data
			function deviceOrientationListener(event) {
			  var alpha   = event.alpha; //z axis rotation [0,360)
			  var beta     = event.beta; //x axis rotation [-180, 180]
			  var gamma   = event.gamma; //y axis rotation [-90, 90]
		 
		 
		 
		 
			  //Check if absolute values have been sent
			  if (typeof event.webkitCompassHeading !== "undefined") {
				alpha = event.webkitCompassHeading; //for iOS devices
				var heading = alpha
				document.getElementById("heading").innerHTML = heading.toFixed([0]);
			  }
			  else {
				alert("Your device is reporting relative alpha values, so this compass won't point north :(");
				var heading = 360 - alpha; //heading [0, 360)
				document.getElementById("heading").innerHTML = heading.toFixed([0]);
			  }
			}
		 
		 </script>
		 
		 
		 
		 
		 <p id='heading'></p>
</body>